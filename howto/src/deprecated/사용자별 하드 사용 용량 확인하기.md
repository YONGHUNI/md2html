# 사용자별 하드 사용 용량 확인하기

> 작성자 : 조한용, 노윤미, 최원우



### 개요

디스크 점유에 대한 특별한 정책이 없는 경우, 서버 하드 디스크 사용량이 90%를 초과하는 경우가 종종 있다. 

이때, 특별히 많은 용량을 사용한 사용자를 검색하여 개별적으로 연락하는 것이 필요할 때도 있다.

다음과 같은 방법으로 유저별 사용량을 찾는다.



### 작업 상세

1. sudo 권한이 있는 계정으로 로그인한다.

2. `sudo du -h -d1` 를 치면 사용량이 출력된다.

   ```
   sudo du -h -d1
   ```

   `du` 명령어의 옵션 상세는 다음과 같다.

   * `-h, --human-readable`: GB, MB 의 단위들로 보기 편하게 변환해준다.
   * `-d, --max-depth`: directory 깊이에 제한을 둔다.

3. 보통 GB 단위로 공간을 차지하는 유저를 보고 싶을 것이므로, `du`의 `-t` 옵션을 사용해 1G를 넘어가는 디렉토리만 걸러낸다. **이 방법을 사용하면 용량이 1G로 나타나는 유저는 표시되지 않는다.**
   
   ```sh
   sudo du -h -t1G -d1
   ```
   
4. `du`의 결과를 용량에 대해 내림차순으로 정렬하고 싶으면 `sort`를 사용한다.
   
   ```sh
   sudo du -h -d1 | sort -hr
   sudo du -h -t1G -d1 | sort -hr
   ```
   
   * `-h`: 사람이 읽을 수 있는 포맷이 값으로 들어온다는 얘기고, 그것에 유념해 정렬한다. 예를 들어, 1.1M < 1G이다.
   * `-r`: 거꾸로(내림차순) 정렬한다.
