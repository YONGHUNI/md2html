# 백업

바쿠스에서 백업의 목표는 어느 한 머신에 장애, 불량, 실수, 혹은 보안 취악점
등으로 저장된 데이터가 손상된 경우를 대비하기 위해서다.

특히, 다음과 같은 상황에는 대비하지 않는다:

- 서버실 화재로 여러 서버가 불타 없어진 경우
- 바쿠스원이 고의로 live 데이터와 백업을 둘 다 지우는 경우
- 보안 취악점으로 여러 서버에 랜섬웨어가 실행된 경우

## 백업 정책

- 백업 주기는 최소 주 1회 진행한다
- 백업은 live copy와 다른 머신에 저장한다
- 어느 한 머신에 장애, 실수, 혹은 보안 취악점이 발생해도 안전해야만 백업으로
  생각할 수 있다. 예를 들어,
  - btrfs snapshot은 백업이 아니다
  - Ceph에서 여러 replica를 저장하더라도 백업이 아니다
  - RAID 1 / mirror도 백업이 아니다
- 백업 데이터는 백업을 실행한 시점부터 최소 2 분기동안 저장한다

## 서비스 종료시

서비스 사용기간이 만료돼서 사용자 데이터를 지우기 전, 반드시 충분한 기간을 두고
사용자들에게 중요한 데이터는 백업을 하도록 안내한다. Live 데이터를 지운 후에도
사용자 데이터에 대한 백업은 최소 2 분기동안 저장한다.

사용자 데이터를 이렇게 관리하는 이유는 아무리 바쿠스가 데이터 삭제에 대해서
미리 공지를 하더라도, 사용자는 데이터 접근이 막혀야만 따로 백업을 해야 한다는
것을 인지하기 때문이다. 특히, 학기가 끝나고 바쿠스에서 지운 데이터를 다음
학기가 시작한 이후까지 모르고 있었다가 이후 복구를 요청하는 경우를 대비하기
위해서다.
